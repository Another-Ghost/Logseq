- [[可伸缩性]]的意义在于，如果系统增加了处理器，就应确保应用程序能充分利用它们。
	- 单线程应用程序是一种极端，它完全不可伸缩：就算我们往系统中增加100个处理器，它的性能也不会发生任何改变。
	- 类似 SETI@Home 的项目则是另一种极端，按照设计，它可利用成千上万的处理器（形式是众多志愿者提供的联网的独立计算机）。
- 任意给定一个多线程应用程序，在运行期间，实际有效执行任务的线程的数目会发生变化。应用程序在最开始可能只具有一个线程，到后来才根据任务生成其他线程。尽管我们想让每个线程在整个生命期内，不停地处理实际工作，然而这很难实现，线程常常耗费时间彼此等待，或者等待I/O換作完成。
- 一旦某线程开始了等待行为（无论所等的是什么），它所在的处理器就会空闲下来（即便原本可以处理实际工作），除非另一线程取而代之，占用了该处理器。
- ## [[Amdahl 定律]]
	- 上述情形可从简化的视角分析：程序由^^串行片段^^和^^并行片段^^共同构成，前者的代码仅能让唯一一个线程运行，而后者则可以让多个线程分别在各个处理器同时有效工作。若在多处理器的系统上运行应用程序，“非行”片段从理论上讲应当更快完成，因为多个处理器之间可以划分任务，而“串行”片段依旧拨申行方式执行。以这些简化的假设为前提，我们便可根据增加的处理器数量，估算出可能的性能增益。如果“串行”片段所占总体程序的比例为 $f_s$ ，那么使用 $N$ 个处理器所取得的^^整体性能增益^^ $P$ 是：
	  $$P=\frac{1}{f_s+\frac{1-f_s}{N}}$$
	  这就是^^Amdahl 定律^^，常常在并发代码性能的讨论中被引用。
		- 若每一项操作都能并行化，则“串行”片段的比例为 $0$ ，加速比是 $N$（前文性能增益 $P$ 的值）。
		- 再举一例，如果“串行”片段的比例 $1/3$ ，即便无限增加处理器数目，加速比也不可能超过 $3$ 。
	- Amdahl 定律大致描述了加速的总体限度。若想令加速比达到最大，$N$ 值便需趋于无穷大，这要求无限细分任务以进行并行处理，但这显然难以实现。
	  该定律还假设全部操作均为 CPU 密集型操作，而实际上这几乎不可能。前文已解释过，线程在执行期间，有可能因许多事由而发生等待。
	- Amdahl 定律让我们清楚一点：如果要利用并发特性提升程序性能，就应当统筹协调应用程序的整体设计，尽可能令并发程度达到最大，并且确保实际的工作量始终维持一定水平，足以让多个处理器有效运行。若我们可以缩短“申行”片段的长度，或降低线程等待的概率，便能在具备更多处理器的系统上提高性能增益。对应地，如果我们可向系统提供更多的数据以进行处理，从而令“并行”片段一直忙于工作，也能降低“串行”片段所占的比例，从而提升性能增益 $P$ 。
	- 可伸缩性的意义是，随着处理器数目增加，将缩短程序执行操作的时间，或者，程序在给定时间内所能处理的数据量会增加。这两种表现有时候彼此等价（若能加快每个元素的处理速度，则单位时间内可以处理的总量就更多），但不一定总是成立。我们有必要先清楚认识可伸缩性的各个方面对问题解决的重要程度，再选择在线程间划分任务的方法。
	- 我们在本节开始处提到过，线程不一定总会执行实际工作。有时候它们需要等待其他线程，或等待 I/O 操作完成，或等待其他事项。如果在等待期间，我们为系统指派一些实际工作，即可“掩藏”等待行为。