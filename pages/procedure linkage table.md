alias:: PLT, 过程链接表

- 程序链接表（PLT，Procedure Linkage Table）是一种用于动态链接的机制，特别是在UNIX和类UNIX操作系统中的共享库（如.so文件）中常见。PLT与位置无关代码（PIC）和全局偏移表（GOT）一起，使得动态库函数在程序运行时能够被正确地调用。
- ### PLT的工作原理
  
  当一个程序调用动态链接库中的函数时，它实际上是首先调用PLT中的一个入口。PLT的作用是在程序运行时解析这些函数调用的正确地址。这个过程通常涉及以下几个步骤：
  
  1. **初始调用**：当函数被首次调用时，控制转移到PLT中对应的入口。这时，函数的真实地址还未被解析。
  
  2. **解析地址**：PLT入口通过与动态链接器（如Linux的ld.so）通信，来解析函数的真实地址。这通常涉及到查找共享库中对应的函数。
  
  3. **更新PLT**：一旦函数地址被确定，PLT中的条目会被更新，使得后续对此函数的调用能够直接跳转到正确的地址。
  
  4. **跳转到函数**：控制转移到函数的真实地址。
- ### PLT的用途
- **延迟绑定**：PLT使得函数调用可以在程序运行时被解析（即延迟绑定），而不是在程序启动时。这减少了程序启动时间，并允许使用如即插即用（plug-and-play）式的共享库。
- **节省内存**：通过使用PLT，不同的程序可以共享相同的动态库副本，而无需为每个程序维护单独的函数副本。
- ### 与GOT的关系
  
  PLT经常与全局偏移表（GOT）一起使用。GOT存储了需要在运行时解析的全局变量和函数地址。在某些实现中，PLT条目的更新可能涉及修改GOT中的相应条目。
- ### 性能影响
  
  虽然PLT提供了强大的动态链接功能，但它也引入了一些性能成本。每次通过PLT调用函数时，都会增加额外的[[间接跳转]]。但在大多数应用中，这种额外成本相对较小，并且可以通过各种技术（如内联缓存）来优化。
  
  总的来说，程序链接表是动态链接和运行时解析机制的一个重要组成部分，使得使用共享库和实现跨库函数调用成为可能。