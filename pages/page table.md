alias:: 页表

- 同任何[[缓存]]一样，虚拟内存系统必须有某种方法来判定一个[[虚拟页]]是否缓存在[[DRAM]]中的某个地方。
  如果是，系统还必须确定这个虚拟页存放在哪个[[物理页]]中。
  如果不命中，系统必须判断查找的这个虚拟页存放在[[磁盘]]的哪个位置，在[[物理内存]]中选择一个[[牺牲页]]，并将虚拟页从磁盘**复制**到 DRAM中，**替换**这个牺牲页。
- 这些功能是由软硬件联合提供的，包括[[操作系统]]软件、 [[MMU]]中的[[地址翻译硬件]]和一个存放在[[物理内存]]中叫做[[页表]]的数据结构。
  [[页表]]将[[虚拟页]]映射到[[物理页]]。
  每次 地址翻译硬件 将一个[[虚拟地址]]转换为[[物理地址]]时，都会**读取**页表。
  操作系统 负责维护 页表 的内容，以及在 磁盘 与 DRAM 之间来回**传送页**。
- 下图展示了一个页表的基本组织结构。页表 就是一个[[页表条目]](PTE)的[[数组]]。[[虚拟地址空间]]中的**每个 页 在页表中一个 固定偏移量 处都有一个[[PTE]]**。
  ![image.png](../assets/image_1701359498580_0.png)
  为了我们的目的，我们将假设每个[[PTE]]是由 一个[[有效位]] 和 一个 $n$ 位[[地址字段]] 组成的。
	- [[有效位]]表明了该[[虚拟页]]当前是否被[[物理内存]]**缓存**在[[DRAM]]中。
		- 如果设置了有效位，那么[[地址字段]]就表示 DRAM 中相应的[[物理页]]的起始位置，这个 物理页 中缓存了 该虚拟页 。
		- 如果没有设置有效位，那么一个 空地址 表示这个虚拟页还[未被分配]([[未分配页]])。
		  否则，这个地址就指向 该虚拟页在[[磁盘]]上的**起始位置**。