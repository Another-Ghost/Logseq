- 在 C++ 中，`std::bad_alloc` 是一个异常类型，它被用来表示内存分配失败的情况。当 C++ 程序使用 `new` 运算符请求动态分配内存，而系统无法满足这种请求时，就会抛出这种异常。`std::bad_alloc` 类属于 `<new>` 头文件，并继承自 `std::exception` 基类。
- ### 主要特点
	- **异常类型**：`std::bad_alloc` 是从 `std::exception` 派生的，因此它继承了所有标准异常类的特性。
	- **常见原因**：内存不足（物理内存和交换空间耗尽）、请求的内存块太大等。
	- **处理方式**：通常在使用 `new` 运算符时，需要处理可能抛出的 `std::bad_alloc` 异常。
- ### 示例代码
- 以下是一个示例，演示如何处理可能因内存分配失败而抛出的 `std::bad_alloc` 异常：
  ```cpp
  #include <iostream>
  #include <new>  // 包含 std::bad_alloc
  
  int main() {
    try {
        // 尝试分配一个非常大的内存块
        int* largeArray = new int[1000000000];
        // 使用分配的内存
        for (int i = 0; i < 1000000000; ++i) {
            largeArray[i] = i;
        }
        // 操作完成后释放内存
        delete[] largeArray;
    } catch (const std::bad_alloc& e) {
        // 处理内存分配失败的情况
        std::cerr << "Memory allocation failed: " << e.what() << '\n';
    }
    return 0;
  }
  ```
- 在这个示例中，程序尝试分配一个非常大的整数数组。如果系统无法提供请求的内存，`new` 表达式将抛出 `std::bad_alloc` 异常。异常被 `catch` 块捕获，程序通过打印错误消息来响应内存分配失败。
- ### `what()` 方法
- `std::bad_alloc` 提供了一个 `what()` 成员函数，它返回一个指向以 null 结尾的字符数组的指针，描述了异常的细节。在 `std::bad_alloc` 的情况下，它通常返回一个消息如 "std::bad_alloc" 或其他指示内存分配失败的字符串。
- ### 注意事项
	- 处理内存不足的情况是编写健壮 C++ 程序的一个重要方面。不适当的内存分配请求可能导致程序崩溃或其他不稳定行为。
	- 在设计需要大量内存的应用程序时，合理规划内存使用和异常处理逻辑是非常重要的，尤其是在资源有限的环境中。
	- 考虑到现代操作系统通常会过量分配内存（即使实际物理内存没有那么多），实际上可能不会抛出 `std::bad_alloc`，除非真正耗尽了所有可用的资源。
- 通过有效地处理 `std::bad_alloc` 异常，程序可以在内存分配失败时保持稳定运行，而不是异常崩溃。这是保证 C++ 程序稳定性和可靠性的重要策略之一。
  <!--Converted by ToLogseq-->