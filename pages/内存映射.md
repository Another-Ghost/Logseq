alias:: 内存的映射, memory mapping

- [[Linux]]通过将一个[[虚拟内存区域]]与一个[[磁盘]]上的[[目标文件]](object file)关联起来，以初始化这个虚拟内存区域的内容，这个过程称为[[内存映射]]。虚拟内存区域可以映射到两种类型的[[对象]]中的一种：
	- [[Linux 文件系统]]中的[[普通文件]]：一个区域可以映射到一个普通磁盘文件的**连续**部分，例如一个[[可执行目标文件]]。
	  [[file section]]被分成[[页]]大小的[[片]]，每一[[片]]包含一个[[虚拟页面]]的初始内容。因为[按需进行页面调度]([[按需页面调度]])，所以这些[[虚拟页面]]没有实际交换进入 物理内存 ，直到 CPU**第一次引用到页面**（即发射一个 虚拟地址 ，落在 虚拟地址空间 这个页面的范围之内）。如果 区域 比[[file section]]要大，那么就用零来填充这个区域的余下部分。
	- [[匿名文件]]：一个[区域]([[虚拟内存区域]])也可以映射到一个[[匿名文件]]，匿名文件是由[[内核]]创建的，包含的全是二进制 0 。 CPU第一次引用这样一个区域内的虚拟页面时，内核就在物理内存中找到一个合适的牺牲页面，如果该页面被修改过，就将这个页面换出来，用二进制 0 覆盖牺牲页面并更新[[页表]]，将这个页面标记为是驻留在内存中的。
	  注意在[[磁盘]]和[[内存]]之间**并没有实际的数据传送**。因为这个原因，映射到匿名文件的区域中的页面有时也叫做[[请求二进制 0 的页]](demand-zero page)。
- 无论在哪种情况中，一旦一个[[虚拟页面]]被初始化了，它就在一个由[[内核]]维护的专门的[[交换文件]](swap file)之间换来换去。[[交换文件]]也叫做[[交换空间]](swap space)。
  需要意识到的很重要的一点是，在任何时刻，[[交换空间]]都限制着当前运行着的[[进程]]能够分配的[[虚拟页面]]的**总数**。
- [[Linux]]提供一个称为[[mmap]]的[[系统调用]]，允许[[应用程序]]自己做内存映射。
- ## [[共享区域]]