alias:: three-way handshake

- [[三报文握手]]建立TCP连接的目的在于解决以下三个主要问题：
	- 使TCP双方能够**确知对方的存在**。
	  logseq.order-list-type:: number
	- 使TCP双方能够协商一些参数（例如[[最大报文段长度]]、[[最大窗口大小]]、[[时间戳选项]]等）。
	  logseq.order-list-type:: number
	- 使TCP双方能够**对[[运输实体资源]]进行分配和初始化**。
	  logseq.order-list-type:: number
	  [[运输实体资源]]包括[[缓存]]大小、各[[状态变量]]、[[连接表]]中的项目等。
- ![image.png](../assets/image_1698299242840_0.png){:height 276, :width 608}
- 序号seq字段被设置了一个初始值 x ，作为 TCP 客户进程所选择的初始序号。
	- TCP规定同步标志位SYN被设置为1的报文段（例如TCP连接请求报文段和TCP连
	  logseq.order-list-type:: number
	  接请求确认报文段）不能携带数据，但要消耗掉一个序号。
	- 按上述规定，TCP连接请求报文段不能携带数据（即没有数据载荷），但是会消
	  logseq.order-list-type:: number
	  id:: 653a0785-45d4-4d3a-979d-453ffd336d09
	  耗掉序号x。
	- 因此，TCP客户进程下一次发送的TCP报文段的数据载荷的第一个字节的序号为
	  logseq.order-list-type:: number
	  x+1。