alias:: 缓存乒乓, 缓存乒乓现象

- >现实中的 CPU 则往往具备多级缓存， 且级存块之间可能存在多路组关联及内存回写等其他问题，这些细节因CPU架构和型号不同而存在种种差异。
  代码无法直接操控缓存。[[缓存]]在一般情况下对C++/ C代码**完全不可见**，级存与内存之间的截入和写出策略由CPU硬件自主、全权掌控。
- **缓存乒乓**（Cache Ping-Pong）是指在多线程或多核处理器环境中，数据频繁在不同处理器的缓存之间传输的现象。这通常发生在多个处理器或核心同时访问同一个内存地址时，特别是当这些处理器或核心使用分离的缓存时。这种情况会导致数据在多个缓存之间“乒乓”往返，因此得名。
- ### 缓存乒乓的影响
	- **性能下降**：缓存乒乓会增加内存访问的延迟和降低处理速度，因为数据需要频繁在多个缓存之间同步。
	  logseq.order-list-type:: number
	- **资源浪费**：它导致更高的带宽消耗和能源使用，因为系统需要不断地在缓存之间传输数据。
	  logseq.order-list-type:: number
	- **并发性限制**：在高度并发的应用程序中，缓存乒乓可能成为一个瓶颈，限制了程序的扩展性和并行性能。
	  logseq.order-list-type:: number
- ### 解决缓存乒乓的策略
	- **优化数据访问模式**：重构代码以减少不同线程对相同数据的访问，或者改变数据的组织方式以减少冲突。
	  logseq.order-list-type:: number
	- **使用线程局部存储**（Thread Local Storage, TLS）：通过将数据保留在单个线程的局部存储中，减少数据在多个线程间共享。
	  logseq.order-list-type:: number
	- **增加缓存一致性协议的效率**：在多核处理器设计中，优化或使用更高效的缓存一致性协议，减少因缓存不一致引发的数据同步需求。
	  logseq.order-list-type:: number
	- **利用软件和硬件锁定机制**：例如，使用锁定或原子操作来控制对共享数据的访问，以减少缓存行的无效化和重载。
	  logseq.order-list-type:: number
	- **调整任务分配和调度**：通过调整任务在处理器之间的分配来避免频繁的数据共享和迁移，从而优化多线程应用的性能。
	  logseq.order-list-type:: number
- 了解和应对缓存乒乓现象是在设计高性能多核系统时的一个重要考虑因素，特别是在处理大规模并发处理和高性能计算（HPC）场景时。
  <!--Converted by ToLogseq-->