- 就像我们已经看到的，一个使用单向空闲块链表的分配器需要与空闲块数最呈线性关系的时间来分配块。一种流行的减少分配时间的方法，通常称为分离存储(segregated storage),就是维护多个空闲链表，其中每个链表中的块有大致相等的大小。一般的思路是将所有可能的块大小分成一些等价类，也叫做大小类(size class)。有很多种方式来定义大小类。例如，我们可以根据2的幕来划分块大小：{l},{2},{3,4} , {5 ~8},···,{1025 ~ 2048 },{2049~4096},{4097~ = }或者我们可以将小的块分派到它们自己的大小类里，而将大块按照2的幕分类：{l},{2},(3},···,{1023}, (1024} , {1025 ~2048},(2049~4096},{4097 ~=}分配器维护着一个空闲链表数组，每个大小类一个空闲链表，按照大小的升序排列。当分配器需要一个大小为 n的块时，它就搜索相应的空闲链表。如果不能找到合适的块与之匹配，它就搜索下一个链表，以此类推。有关动态内存分配的文献描述了几十种分离存储方法，主要的区别在千它们如何定义大小类，何时进行合并，何时向操作系统请求额外的堆内存，是否允许分割，等等。为了使你大致了解有哪些可能性，我们会描述两种基本的方法：简单分离存储(simple segregated storage)和分离适配(segregated fit)