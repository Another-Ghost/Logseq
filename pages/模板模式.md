alias:: Template Method Pattern, template method, 模板方法模式

- 模板模式（Template Method Pattern）是一种行为设计模式，用于在一个方法中定义一个算法的**框架**，允许子类在不改变算法结构的情况下**重写算法的某些特定步骤**。这种模式是面向对象设计中常用的一种方法，特别适用于有共同行为但细节不同的场景。
- ### 模板模式的核心组成：
	- **抽象类（Abstract Class）**：定义模板方法和算法的框架。模板方法设置为 `final`（或在C++中为非虚方法），以防止被重写，其中包括一系列步骤，部分步骤可以由具体子类实现。
	  logseq.order-list-type:: number
	- **具体类（Concrete Classes）**：继承抽象类，并实现其定义的抽象操作，从而完成算法中与特定子类相关的步骤。
	  logseq.order-list-type:: number
- ### 模板模式的关键特性：
	- **代码复用**：模板方法允许在一个地方定义算法的结构，并多次重用。
	- **扩展性**：新的步骤或行为可以通过添加新的子类来实现，无需修改现有代码。
	- **结构清晰**：算法的结构定义在一个地方，易于理解和修改。
- ### 示例代码：
  以下是C++中实现模板模式的简单例子，假设我们设计一个应用程序，用于处理文档的不同格式。
  ```cpp
  #include <iostream>
  #include <string>
  
  // 抽象基类
  class DocumentProcessor {
  public:
    void processDocument(const std::string& content) {
        readData(content);
        processData();
        writeData();
    }
  
  protected:
    virtual void readData(const std::string& content) = 0;
    virtual void processData() = 0;
    virtual void writeData() = 0;
  };
  
  // 具体类1：处理文本文件
  class TextProcessor : public DocumentProcessor {
  protected:
    void readData(const std::string& content) override {
        std::cout << "Reading text data: " << content << std::endl;
    }
  
    void processData() override {
        std::cout << "Processing text data..." << std::endl;
    }
  
    void writeData() override {
        std::cout << "Writing text data..." << std::endl;
    }
  };
  
  // 具体类2：处理HTML文件
  class HTMLProcessor : public DocumentProcessor {
  protected:
    void readData(const std::string& content) override {
        std::cout << "Reading HTML data: " << content << std::endl;
    }
  
    void processData() override {
        std::cout << "Processing HTML data..." << std::endl;
    }
  
    void writeData() override {
        std::cout << "Writing HTML data..." << std::endl;
    }
  };
  
  int main() {
    TextProcessor text;
    HTMLProcessor html;
  
    text.processDocument("Example text");
    html.processDocument("<html>Example HTML</html>");
  
    return 0;
  }
  ```
- ### 解释：
  在上述代码中，`DocumentProcessor` 类定义了文档处理的模板方法 `processDocument`，这个方法确定了处理文档的三个基本步骤：读取数据、处理数据和写入数据。具体类 `TextProcessor` 和 `HTMLProcessor` 继承了 `DocumentProcessor`，并实现了这三个步骤以适应不同类型的文档。
- ### 使用场景：
  模板模式适用于以下场景：
	- 多个子类有共同的方法，但实现细节各不相同时。
	- 重构时，把相同的代码移到一个共同的类中，减少重复代码。
	  通过模板模式，开发者可以将固定的算法结构定义在高层模块中，将易变的细节留给子类去实现，从而实现代码的复用和扩展。
	  <!--Converted by ToLogseq-->