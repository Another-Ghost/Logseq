alias:: 间接跳转

- 间接跳转（Indirect Jump）是计算机程序中的一种[[控制流机制]]，其中程序执行的下一个指令地址**不是静态确定的**，而是存储在某个内存位置或寄存器中。
  这种跳转方式与[[直接跳转]]相对，直接跳转是指跳转目标地址在[[编译时]]就已经确定。
- ### 工作原理
  在间接跳转中，程序在运行时首先需要计算或检索下一个指令的地址，然后跳转到该地址继续执行。这个地址可能存储在一个变量、寄存器或通过计算得到。
- ### 应用场景
  
  1. **函数指针**：在C和C++中，可以使用函数指针调用函数，这实际上是一种间接跳转，因为函数的实际地址存储在指针变量中。
   
   ```cpp
   void (*funcPtr)() = &myFunction;
   funcPtr();  // 间接跳转到myFunction
   ```
  
  2. **虚函数调用**：在面向对象编程中，特别是在C++中，当调用虚函数时，实际的函数地址通常在运行时通过虚函数表（vtable）确定，这也是一种间接跳转。
  
  3. **跳转表（Jump Table）**：在一些情况下（如switch语句的实现），编译器可能会使用跳转表来优化代码，其中表项包含了不同情况下应跳转的地址。
- ### 性能影响
  
  与直接跳转相比，间接跳转可能有更高的性能成本。这是因为直接跳转的目标地址在编译时已知，而间接跳转需要在运行时计算或检索地址。现代处理器的分支预测器在直接跳转上表现更好，但在间接跳转上可能不那么有效。
- ### 安全性考虑
  
  间接跳转也涉及安全方面的考虑，特别是在系统编程中。不正确的间接跳转可能导致程序跳转到意外的地址，这可能是安全漏洞的源头。例如，返回指向栈的函数指针可能会导致缓冲区溢出攻击。
  
  总的来说，间接跳转是一种灵活但相对成本较高的控制流机制，它在许多编程场景中非常有用，尤其是在需要运行时多态和动态决策的情况下。