alias:: 基于锁的并发数据结构, 基于锁的数据结构

- 设计^^基于锁的并发数据结构^^主要是确保在访问数据时锁定正确的[[互斥锁]]，并且保持**锁的时间尽可能短**。
- 当只有一个互斥锁保护一个数据结构时，这已经足够困难了。你需要确保数据不能在互斥锁保护之外被访问，并且没有[[接口中固有的竞态条件]]，
  如果你使用单独的互斥锁来保护数据结构的不同部分，这些问题会加剧，并且如果对数据结构的操作需要锁定多个互斥锁，那么还有可能出现[[死锁]]。
  因此，你需要比设计只有一个互斥锁的数据结构更仔细地考虑设计具有多个互斥锁的数据结构。
- ## [[thread-safe stack]]