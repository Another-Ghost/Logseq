alias:: AST, 抽象语法树

- 抽象语法树（AST，Abstract Syntax Tree）是一种用于表示[[源代码结构]]的树状数据结构。在[[编译器设计]]中，AST是非常关键的一个组成部分，它作为源代码和机器代码之间的一个重要中间表示。了解AST有助于理解编译器是如何解析和理解程序代码的。
- ### 基本概念
- **抽象（Abstract）**：AST摒弃了代码文本中的某些细节，如括号和特定的语法构造，只保留语法元素的层级结构。
- **语法（Syntax）**：它反映了程序的语法结构，如循环、条件判断、函数调用等。
- **树（Tree）**：数据结构是树形的，其中每个节点都代表着源代码中的一个构造（如表达式、语句等）。
- ### AST的组成
- **节点（Node）**：树中的每个节点对应源代码中的一个结构（例如运算符、变量、控制流语句等）。
- **边（Edge）**：节点之间的连接，表示程序结构中的关系，如父子关系。
- ### AST的用途
  
  1. **语法检查**：编译器使用AST来检查代码的语法正确性。
  2. **代码分析**：AST使得对代码进行静态分析成为可能，例如查找变量定义、检测可能的错误等。
  3. **代码优化**：在生成机器代码之前，编译器会对AST进行各种优化。
  4. **代码生成**：编译器根据AST生成目标代码，如机器代码或中间代码。
- ### AST的创建过程
  
  1. **词法分析**：源代码首先经过词法分析器，转换成一系列的标记（Token）。
  2. **语法分析**：这些标记随后被送入语法分析器，语法分析器根据给定的语法规则，将这些标记组织成AST。
- ### 例子
  考虑这段简单的C++代码：
  ```cpp
  int a = b + c;
  ```
  对应的AST可能如下所示：
- 根节点代表整个赋值语句。
- 左子节点是变量 `a`。
- 右子节点代表表达式 `b + c`，它自身又有两个子节点：变量 `b` 和 `c`，以及代表加法的父节点。
  
  AST通过这种树状结构，精确地表示了源代码中各个元素的关系和层次。