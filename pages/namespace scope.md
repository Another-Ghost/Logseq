alias:: 命名空间作用域

- 在[[命名空间]]中声明的名称的[[潜在作用域]]从声明点开始，包括 剩余的命名空间和所有后续拥有相同命名空间名的命名空间定义，以及，对于通过使用指令将此名称或其整个命名空间引入另一作用域的情况，该作用域的剩余部分。
  id:: 655b6e16-84de-4c69-9bbd-56a5a16fad1b
  
  [[翻译单元]]的 *顶层作用域*（[[文件作用域]]或[[全局作用域]]）也是一个[[命名空间]]，正确地称为[[全局命名空间作用域]]。在全局命名空间作用域中声明的名称的 潜在作用域 从声明点开始，直到 翻译单元 的结束。
  
  在未命名命名空间或[[内联命名空间]]中声明的名称的潜在作用域包括该名称在其外围命名空间中声明时所具有的潜在作用域。
  
  ```cpp
  namespace N {
    // N 的作用域从这里开始（作为全局命名空间的一部分）
    int i; // i 的作用域从这里开始
    int g(int a) { return a; } // g 的作用域从这里开始
    int j(); // j 的作用域从这里开始
    void q(); // q 的作用域从这里开始
  
    namespace {
        int x; // x 的作用域从这里开始
    } // x 的作用域持续（未命名命名空间的成员）
  
    inline namespace inl {
        int y; // y 的作用域从这里开始
    } // y 的作用域持续（内联命名空间的成员）
  } // i, g, j, q, inl, x 和 y 的作用域暂停
  
  namespace {
    int l = 1; // l 的作用域从这里开始
  } // l 的作用域持续（未命名命名空间的成员）
  
  namespace N {
    // i, g, j, q, inl, x 和 y 的作用域恢复
    int g(char a) // 重载 N::g(int)
    {
        return l + a; // 未命名命名空间中的 l 在作用域内
    }
  
    int j(); // 正确：允许重复的函数声明
  
    int j() // 正确：之前声明的 N::j() 的定义
    {
        return g(i); // 调用 N::g(int)
    }
  } // i, g, j, q, inl, x 和 y 的作用域暂停
  
  int main() {
    using namespace N; // i, g, j, q, inl, x 和 y 的作用域恢复
    i = 1; // N::i 在作用域内
    x = 1; // N::(匿名)::x 在作用域内
    y = 1; // N::inl::y 在作用域内
    inl::y = 2; // N::inl 也在作用域内
  } // i, g, j, q, inl, x 和 y 的作用域结束
  ```
  
  自 C++20 起，如果当前翻译单元被其他翻译单元导入，名称也可能在这些翻译单元的作用域中可见。